# linux-kernel
linux kernel study notes

## openHarnomy



### RTG

### WALT

### SCHEDUTIL









## TODO LIST

1. **ret_from_fork**

   - 跟唤醒呀，调度息息相关，建议结合libc的pthread库一起看看。整条流程串一遍，创建一个新线程之后，如何让新线程调度上。

   ​	

2. **epoll**

   epoll是Linux内核中提供的一种高效的事件通知机制，用于处理大量文件描述符上的事件。它的优势在于高性能、可扩展性和灵活性，很适合构建高并发、高性能的网络服务器。

   epoll的主要特点如下：

   1. 单个进程管理大量描述符：epoll允许单个进程管理大量的文件描述符，而不需要通过多线程或多进程进行并发处理。它使用一个全局的事件表来跟踪和管理所有的文件描述符。
   2. 高效的事件通知机制：与传统的基于轮询的I/O模型相比，epoll使用事件通知的方式，只在有事件发生时通知应用程序，而不是通过轮询来遍历所有文件描述符。这样可以减少CPU的消耗，提高系统的响应性能。
   3. 支持边缘触发和水平触发：epoll提供了两种触发模式，即边缘触发（Edge-Triggered）和水平触发（Level-Triggered）。在边缘触发模式下，只有在状态发生变化时才会通知应用程序，而在水平触发模式下，只要状态是活动的，就会持续通知应用程序。
   4. 处理大量并发连接：通过使用epoll的边缘触发模式，可以高效地处理大量的并发连接，并在有数据可读或可写时及时做出响应。这使得epoll成为构建高性能网络服务器的重要工具。

   使用epoll的基本流程如下：

   1. 创建epoll实例：通过调用epoll_create或epoll_create1函数来创建一个epoll实例。
   2. 注册文件描述符：使用epoll_ctl函数将需要监视的文件描述符（通常是套接字）添加到epoll实例中，并指定感兴趣的事件类型，如可读、可写、异常等。
   3. 等待事件：使用epoll_wait函数等待事件的发生。该函数会阻塞，直到一个或多个文件描述符上的事件发生，或者传入的超时时间到达。
   4. 处理事件：当epoll_wait函数返回时，表示有一个或多个文件描述符上的事件已经发生。应用程序可以遍历返回的事件列表，根据事件类型进行相应的处理操作。

3. **memory barrier**

4. **lock in core sched**

   rq->lock的作用范围，常见持锁范围

5. **irq流程**

   ​	
